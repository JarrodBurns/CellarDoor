# CellarDoor File Backup
The intent of this application is to provide a low fluff file backup tool capable of self executing once per day.

# TO DO
- [X] [Record and Display Stats](#record-and-display-stats)
- [X] Relative imports
- [X] **WNI** [Multi-Process Zip Operations](#multi-process-zip-operations)
- [X] Allow user to backup multiple directories
- [X] % progress bar
- [X] **WNI** [Update configs to YAML](#yaml-configs)
- [X] Logging
- [X] [Select license](#-license)
- [ ] [Windows Task Scheduler](#windows-task-scheduler)
- [ ] Version 1.0

## Fixes
- [X] Incorporate new datetime constants & rewrite parser logic
- [X] UI stats, str conversion necessary? No.
- [X] All file ops should check/create/error

## MultiZip Integration Hell
- [X] Console generated by WTS is mangled
- [X] Clean up zombie code
- [X] Scan for dead references
- [X] Organize and restructure all modules
- [ ] Sleep function execution is out of sync in bash console

## Reading list
- [X] [ZipFile](https://docs.python.org/3/library/zipfile.html?highlight=zipfile#module-zipfile)
- [X] [Pathlib - Modern Paths in Python](https://docs.python.org/3/library/pathlib.html?highlight=pathlib#module-pathlib)
- [X] [Logging](https://docs.python.org/3/library/logging.html)
- [X] [Logging Config File](https://docs.python.org/3/library/logging.config.html#module-logging.config)
- [X] [YAML](https://realpython.com/python-yaml/)
- [ ] [XML Processing Modules](https://docs.python.org/3/library/xml.html?highlight=xml#module-xml)
- [ ] [Task Scheduler Schema](https://docs.microsoft.com/en-us/windows/win32/taskschd/task-scheduler-schema)

## Windows Task Scheduler
So far I have written some logic to handle scheduling windows tasks programmatically, this logic works correctly and CRUD operations can be preformed on tasks. The issue occurs when referencing path information through python code activated by a windows task; the application will crash. This can be prevented by pointing the optional parameter *start in* to the parent directory of the python script. I can not find a way to fill this value programmatically, nor can I find the identifier to reference it. It can be filled in manually however, and the current workaround is to schedule the task manually. A future update should either set this value or provide a suitable workaround, likely in the form of a bat file.

### Windows Task Scheduler Update 12 Sep 2022
After conducting more investigation, it seems the best way to interact with the Task Scheduler is through an XML file. In development, this file can be pulled down from an existing task. The idea then is to generate this XML dynamically, in application if the config has changed and then save and pass that data on to the WTS.

## Record and Display Stats
- Time spent archiving
- Number of backups created
- Cumulative size of files managed 

## Multi-Process Zip Operations
The following articles highlight different threading and multi-processing operations for zip and unzip. The TLDR is that these methods offer no significant increase in processing time for **zipping** operations. This is due to the fact that only one file can be read in at a time. It is worth mentioning that **Unzipping** operations can see a 4x speed increase when multi-threaded and multi-processed. This app is not concerned with extracting archives and thusly will not implement this feature.

- [Multi-threaded Unzip Files](https://superfastpython.com/multithreaded-unzip-files/)
- [Multi-threaded Zip Files](https://superfastpython.com/multithreaded-zip-files/)

## YAML Configs
After careful consideration, I've decided to forgo YAML files. I would prefer to use the format, but I can't justify bringing in the dependency. Currently the application runs off native python and this should be preserved if possible.

## License
Selected BSD 3-Clause


